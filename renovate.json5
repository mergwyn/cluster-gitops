{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:best-practices",
    ":separateMultipleMajorReleases",
  ],
  "ignorePaths": ["disabled/**","archive/**"],
  "minimumReleaseAge": "14d",
  "helm-values": {
    "fileMatch": ["(^|/).*values.*.yaml$"]
  },
  "packageRules": [
    {
      "packagePatterns": ["^(gh|ls)cr.io\\/linuxserver\\/qbittorrent/"],
      "versionScheme": "regex:/^(?<major>]\d+)]\.(?<minor>]\d+)]\.(?<patch>]\d+)-r(?<build>]]\d)-ls(?<revision>.+)$"
    },
    {
      "packagePatterns": ["^(gh|ls)cr.io\\/linuxserver\\/", "^ghcr.io\\/linuxserver\\/.*\\/"],
      "versionScheme": "regex:^(?<compatibility>.*)\\.(?<major>.*)\\.(?<minor>.*)\\.(?<patch>.*)$"
    },
    {
      "packagePatterns": ["^plexinc\\/"],
      "versionScheme": "regex:^(?<compatibility>.*)\\.(?<major>.*)\\.(?<minor>.*)\\.(?<patch>.*)$"
    },
    {
      "description": "auto merge patches",
      "matchUpdateTypes": ["patch"],
      "matchCurrentVersion": "!/^0/",
      "automerge": true,
      "ignoreTests": true
    },
    {
      "description": "Auto merge KPS minors and patches",
      "matchDatasources": ["helm", "docker"],
      "automerge": true,
      "matchUpdateTypes": ["minor", "patch"],
      "matchDepNames": ["kube-prometheus-stack"],
      "ignoreTests": true
    }
  ]
}
